# KPLess

动机是为海豹骰编写一个 KPLess 模块。

## 试试

```bash
cd cmd 
go run main.go
```

## 文法定义

> 以 markdown 的语法基础的好处是编写的 markdown 可以转为 PDF ，然后依然有一定的可玩性。

```markdown
# title // 这是标题，分割出一个场景

内容 // 文本

&#96;``
// 代码块中的文本只会被使用脚本执行 不会拼接到输出中！
智力 = (2d6+6)*5; 智力
&#96;``

你的体型：{ 体型 = 2d6*5; 体型 } // 在文本中插入变量

你的智力：{ 智力 }

* 体型 < 40  [你的“体型”低于 40 ](#23) // 根据条件为假则隐藏选项
* 体型 > 40  [你的“体型”高于 40 ](#38)  是高的 = 1  // 选择这个选项后要执行的一条语句
* [tip](#title) // 这个选项 无论如何都会显示

## t2 // 这是下一级标题

其他文本……
```

选项跳转时查找顺序

- 所有的下级标题
- 跳到上一级标题重复上个步骤
- 直到到达最顶层

## TODO

- [x] 能简单用用自己玩玩
- [x] 根据条件表达式显示/隐藏选项
- [x] 状态保存
- [ ] 生成静态网页
- [ ] 补全测试